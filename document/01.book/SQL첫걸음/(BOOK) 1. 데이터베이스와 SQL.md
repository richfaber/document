[![SQL 첫걸음](https://lh3.googleusercontent.com/-aRhc1DcZqpk/Wki1X7Fe7uI/AAAAAAAATK4/f-Ka7_EoJRgiRx5bd1nSkoEa9UqiuNSywCHMYCw/I/B1374950226_l.jpg)](http://www.yes24.com/24/goods/22744867?scode=032&OzSrank=1)

# 데이터베이스와 SQL

- 데이터 : 컴퓨터에 기록되어 있는 숫자
- 데이터베이스 : 데이터의 집합

데이터베이스가 필요한 이유는 지속성을 가지기 위함이다. 즉 어떤 정보를 저장하려는 목적이 있다.

## 데이터베이스

### 시스템 내의 데이터베이스

일반적으로 데이터센터의 서버를 통해 사용하지만, 최근에는 개인용컴퓨터 또는 휴대용 기기에 내장 되기도 한다.(연락처정보등) 하지만 서비스를 운영하는 회사는 일반적인 데이터센터를 사용한다.

### DB와 DBMS

- DBMS (Database Management System) : 데이터 관리 시스템으로 저장된 데이터를 관리해 주는 소프트웨어 이다. 저장된 데이터의 중간에 DBMS가 있고, DBMS와 대화를 하기 위해 SQL을 사용한다.

`SQL` 은 데이터베이스 종류 중에 `관계형 데이터베이스(RDB)` 를 위해서 나온 것이라서, `SQL`을 사용해야 한다는 것은 기본적으로 데이터베이스가 `관계형 데이터베이스(RDB)` 라는 것을 의미 한다.

## 다양한 데이터베이스

데이터베이스는 몇가지 분류로 나눌 수 있는데 `계층형 데이터베이스`, `관계형 데이터베이스`, `객체지향 데이터베이스`, `XML 데이터베이스`, `키-밸류 스토어(KVS)` 등이 있다.

- 계층형 데이터베이스 : 폴더와 파일등의 계층구조로 이루어져 있다. 하드디스크나 DVD 파일시스템 등은 이런 데이터베이스를 채택했다고 볼 수 있다.
- 관계형 데이터베이스 : 행과 열로 나누어져 있는 테이블처럼 생긴  데이터들의 집합 이다. 이런 테이블들이 특정한 키를 기준으로 연결된다.
- 객체지향 데이터베이스 : `객체(object)` 그대로 데이터베이스에 저장하는 구조이다.
- XML 데이터베이스 : XML태그를 이용해서 데이터베이스 처럼 저장하는 데이터베이스 이다. `XQuery`를 이용해서 검색할 수 있다.
- 키-밸류 스토어(KVS) : 키와 값으로 데이터를 저장하는 형태이다. (객체지향 데이터베이스보다 단순한 형태?)

최근에 구글의 휴대전화에는 `관계형 데이터베이스 관리 시스템 - RDBMS` 가 들어가 있어서 `SQLite` 로 검색이 가능 하다.

### 데이터 베이스 제품

`RDBMS` 로 유명한 소프트웨어가 몇가지 있다.

- Oracle : 제일 유명한 소프트웨어로 거의 표준으로 보고 있다.
- DB2 : IBM이 개발한 가장 오래된 소프트웨어 중에 하나지만 시장점유에 실패 했다.
- SQL Server : 윈도우가 개발한 것으로 윈도우 서버에 사용하는 소프트웨어 이다.
- PostgreSQL : 오픈소스 커뮤니티가 개발한 RDBMS로 실험적인 기능들이 포함되어 있는 독특한 구조의 소프트웨어 이다.
- MySQL : 오픈소스 커뮤니티에서 태어난 RDBMS로 많은 발전을 거듭하여 Oracle 데이터베이스보다 더 좋다(?)는 얘기를 하는 자도 있다.
- SQLite : 작은 규모의 사용을 목적으로 오픈소스 커뮤니티에서 태어났다.

`데이터베이스 관리 시스템` 이 어떤 단체가 있어서 표준을 제정하거나 하지 않기 때문에, 이런 많은 소프트웨어 들은 각자 자신만의 통용되는 방식을 가지고 있다. 예를 들어 DB2, PostgreSQL, MySQL 에서는 FROM 구문을 삭제하면 에러가 난다.

그러다보니 표준화 운동이 생겼고, `SQL-92`, `SQL-99`, `SQL-2003` 등의 표준이 생겨나게 되었는데, 기왕 표준이 있다면 따르는 것이 좋다고 생각한다. 
(마케팅도 없고, 마케팅을 하더라도 개발자들이 신경쓰지 않으면 그냥 표면적으로 존재만 할 뿐이지만..)

## 데이터베이스 서버

데이터베이스는 데이터를 저장 한다는 것이고, 이것은 항상 온라인 이라는 의미이다. 케이블을 직접 연결해서 쓰던 진공관 컴퓨터 시절은 아니기 때문에, 인터넷에 항상 붙어있어서 한개의 IP를 독점한다는 의미기도 하다.

### 클라이언트/서버 모델

사용자가 웹페이지에 접속하여 `회사소개` 메뉴를 클릭하면, 웹서버가 그에 알맞은 `HTML`를 준다. 그러면 사용자는 그 `HTML`을 본다. 이것이 웹에 기본이다. 

단순히 화면만 보여주는 거면 웹서버가 해주는 것으로 끝나지만, 저장된 데이터에 접근하려고 할때, `RDBMS` 가 붙는다.

즉 사용자가 웹페이지에 접속해서 로그인을 하려면, `HTML` 화면에서 어떠한 요청을 하게 되고, 서버사이드(ASP,JSP, PHP, RUBY, PERL 등등) 언어 에서 DB서버로 접근하기 위해, 사용자가 입력한 아이디와 비밀번호를 전송해 준다. 그러면 DB서버는 해당 내용을 검색하여 `OK` 혹은 `Wrong` 메세지를 준다.

그러면 기계적으로 나오는 해당 응답을(500, 404등의 기계적 코드) 서버사이드 언어에서 사용자가 알아들을 수 있도록 알맞은 메세지를 보내주고, 웹서버는 그것을 받아서 클라이언트에 보내 준다.

![netag105](https://lh3.googleusercontent.com/-eeFZS93_2zw/WkjLaHmXJhI/AAAAAAAATLI/YxsXQ5n_ljsxZNcfLfjltZklQiea1MLGQCHMYCw/I/netag105.gif)

근대는 `Ajax` 인기급부상으로 이전 서버사이드 언어가 아닌, 클라이언트사이드(자바스크립트로 요청) 방식으로 교체되고 있다. 

이전과 다른점은 서버사이드 언어에서 `DB` 로 접근하는 코드와 화면에 뿌리는 `HTML` 코드가 혼재되어 있었다면, 클라이언트 사이드 구성은 이런 서버코드와 클라이언트코드가 분리되는 장점을 가지게 되었다.

`클라이언트 사이드 구성` 으로 바뀌게 된 실질적 이유는, 더 빠르기 때문이다.
 
서버사이드 언어로 화면을 갱신하기 위해서는 웹서버를 반드시 통해야 하므로, 현재페이지를 리로딩 해야하지만, Ajax는 현재페이지의 특정부분만 변경하는 것이 가능하다. 
(자바스크립트만으로 서버사이드구성 을 대체하기 위한 시도가 생겼고, 그의 파생이 `Angular, React, Vue` 등이다.)

