# 13.성능 최적화를 위한 훅

- useRef : 렌더링 없이 값이나 DOM 요소를 참조하거나 저장할 수 있다.
- useMemo : 연산 비용이 큰 값을 메모이제이션하여 불필요한 재계산을 방지 한다.
- useCallback: 함수를 메모이제이션하여 불필요한 함수 재생성을 방지한다.
- useId : 클라이언트와 서버에서 일관된 고유ID를 생성하여 접근성을 높여준다.

## 13.2 useRef 훅 알아보기

컴포넌트 에서 값이 변경되지 않고 유지되는 참조값을 만들 때 사용 한다. 
만약 const 로 지정된 객체의 경우, 리렌더링 되면 초기값으로 돌아간다.
이렇게 리렌더링 이후에도 값을 유지하고 싶을 때 지정해서 방어가 가능하다.

또한, useState 의 값이 변경되면 리렌더링을 하지만, useRef 의 값이 변경되는 것은 리렌더링을 하지 않는다.

## 13.3 useMemo 훅 알아보기

계산 비용이 큰 값의 결과값을 별도로 저장해서, 다시 계산하지 않도록 하는 데에 사용한다.

```react
const memoVal = useMemo(() => {
  return 메모이제이션될값;
}, [의존성 배열])
```

의존성 배열이 변할 때만 재실행 하고, 그렇지 않으면 이전 결과 값을 그대로 반환한다.

리렌더링 시에 유효하다. 리렌더 수행 시 모든 코드가 재동작 하게 되는데, 재계산이 불필요한 부분들도 존재하게 되고, 이런 부분을 예외처리 한다.
가령 2개의 input 의 값을 같은 화면 어딘가에서 표현하고 있을 떄, input 이 변경될 때 마다 표현을 위해 리액트는 리렌더링을 하게 될 것이고,
이런 경우, 변경된 input 의 값을 표현하기 위한 부분만 계산되길 기대하고 싶을때, 즉 다른 계산식들은 다시 계산할 필요성이 없을 떄 유효함.

## 13.4 useCallback 훅 알아보기

`useMemo` 는 계산식을 기억하고 재사용한다. `useCallback` 은 함수를 기억한다.
주로 자식 컴포넌트에 콜백 함수를 Props 로 전달할 때 사용한다.

```react
const memoVal = useCallback(() => {
  메모이제이션할 함수 내용;
}, [의존성 배열]);
```

의존성 배열에 포함된 값이 변결될 때만 함수가 다시 생성되며, 변경되지 않으면 이전에 생성된 함수를 그대로 재사용 한다.