# 12.생명주기

## 12.2 클래스형 컴포넌트 에서의 생명주기

- componentDidMount() : 화면에 처음 렌더링된 후 호출
- componentDidUpdate(이전Props, 이전State) : 컴포넌트가 업데이트 된 직 후 호출
- componentWillUnmount() : 컴포넌트가 화면에서 제거되기 직전 호출

## 12.3 함수형 컴포넌트와 useEffect 훅

### useEffect

```react
useEffect( () => {
  
  A. 컴포넌트가 마운트된 후 실행할 코드

  return () => {
    B. 컴포넌트가 언마운트 되기 직전에 실행할 코드
  }

}, [외존성 배열])
```

기본적으로 위와 같고,

```react
useEffect(() => {
  실행문장;
})
```

의존성 배열을 undefined 한 경우, 업데이트 될 때마다 실행됨.

```react
useEffect(() => {

}, [])
```

의존성 배열을 [] 로 비어서 넣는 경우, mount 시 1회만 호출

```react
useEffect(() => {

  실행문장;

}, [변수C])
```

지정한 `변수C` 변경 시에만 호출

그렇다면 A지점과 B지점은 주로 어떻게 구성할까?

- A지점: 주로 데이터 요청, 이벤트 등록, 타이머 설정, 상태 초기화 및 연산 처리 등의 작업을 수행
- B지점: 코드 클린업, 이벤트리스너 해제, 타이머 정리, 구독 해지 등, 메모리 누수 관리 (이런거를 프레임워크가 알아서 해줘야 하는데, 얘는 이래)